<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="QWARD Visualization Guide" href="visualization_guide.html" /><link rel="prev" title="QWARD Project Overview" href="project_overview.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>QWARD Architecture - Qward 0.1.0</title>
      <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=3ee1c6c6" />
    <link rel="stylesheet" type="text/css" href="_static/styles/qiskit-sphinx-theme.css?v=8ff9dcb6" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=IBM+Plex+Sans:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet"></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14 2H2C1.73478 2 1.48043 2.10536 1.29289 2.29289C1.10536 2.48043 1 2.73478 1 3V13C1 13.2652 1.10536 13.5196 1.29289 13.7071C1.48043 13.8946 1.73478 14 2 14H14C14.2652 14 14.5196 13.8946 14.7071 13.7071C14.8946 13.5196 15 13.2652 15 13V3C15 2.73478 14.8946 2.48043 14.7071 2.29289C14.5196 2.10536 14.2652 2 14 2V2ZM2 3H10V13H2V3ZM14 13H11V3H14V13Z" fill="currentColor"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14 3H2V4H14V3Z" fill="currentColor"/>
      <path d="M14 12H2V13H14V12Z" fill="currentColor"/>
      <path d="M14 6H2V7H14V6Z" fill="currentColor"/>
      <path d="M14 9H2V10H14V9Z" fill="currentColor"/>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11 8L6.00005 13L5.30005 12.3L9.60005 8L5.30005 3.7L6.00005 3L11 8Z" fill="currentColor"/>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15 13H1V14H15V13Z" fill="currentColor"/>
      <path d="M12.7 4.5C13.1 4.1 13.1 3.5 12.7 3.1L10.9 1.3C10.5 0.9 9.9 0.9 9.5 1.3L2 8.8V12H5.2L12.7 4.5ZM10.2 2L12 3.8L10.5 5.3L8.7 3.5L10.2 2ZM3 11V9.2L8 4.2L9.8 6L4.8 11H3Z" fill="currentColor"/>
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11 13.0002C11.5523 13.0002 12 12.5525 12 12.0002C12 11.4479 11.5523 11.0002 11 11.0002C10.4477 11.0002 10 11.4479 10 12.0002C10 12.5525 10.4477 13.0002 11 13.0002Z" fill="currentColor"/>
      <path d="M14.8884 11.7394C14.5795 10.9524 14.0464 10.2734 13.3552 9.78646C12.664 9.29954 11.8451 9.02615 11 9.00017C10.1549 9.02615 9.33604 9.29954 8.64484 9.78646C7.95365 10.2734 7.42052 10.9524 7.11155 11.7394L7 12.0002L7.11155 12.2609C7.42052 13.0479 7.95365 13.727 8.64484 14.2139C9.33604 14.7008 10.1549 14.9742 11 15.0002C11.8451 14.9742 12.664 14.7008 13.3552 14.2139C14.0464 13.727 14.5795 13.0479 14.8884 12.2609L15 12.0002L14.8884 11.7394ZM11 14.0002C10.6044 14.0002 10.2178 13.8829 9.88886 13.6631C9.55996 13.4433 9.30362 13.131 9.15224 12.7655C9.00087 12.4001 8.96126 11.998 9.03843 11.61C9.1156 11.222 9.30608 10.8657 9.58579 10.586C9.86549 10.3063 10.2219 10.1158 10.6098 10.0386C10.9978 9.96143 11.3999 10.001 11.7654 10.1524C12.1308 10.3038 12.4432 10.5601 12.6629 10.889C12.8827 11.2179 13 11.6046 13 12.0002C12.9994 12.5304 12.7885 13.0388 12.4136 13.4137C12.0386 13.7887 11.5303 13.9996 11 14.0002Z" fill="currentColor"/>
      <path d="M6 14.0002H4V2.00017H8V5.00017C8.00077 5.26515 8.10637 5.51906 8.29374 5.70643C8.48111 5.8938 8.73502 5.99941 9 6.00017H12V8.00017H13V5.00017C13.0018 4.93446 12.9893 4.86913 12.9634 4.80871C12.9375 4.74828 12.8988 4.6942 12.85 4.65017L9.35 1.15017C9.30599 1.10134 9.2519 1.06263 9.19147 1.03674C9.13104 1.01084 9.06572 0.998364 9 1.00017H4C3.73502 1.00094 3.48111 1.10654 3.29374 1.29391C3.10637 1.48128 3.00077 1.73519 3 2.00017V14.0002C3.00077 14.2652 3.10637 14.5191 3.29374 14.7064C3.48111 14.8938 3.73502 14.9994 4 15.0002H6V14.0002ZM9 2.20017L11.8 5.00017H9V2.20017Z" fill="currentColor"/>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Qward 0.1.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Qward 0.1.0</span>
  
</a>
<form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart_guide.html">QWARD Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="beginners_guide.html">QWARD Beginner’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_docs.html">Technical Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_overview.html">QWARD Project Overview</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">QWARD Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization_guide.html">QWARD Visualization Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="apidocs/index.html">API References</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API References</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="apidocs/scanner.html">Scanner</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/metrics_base.html">Metrics Base &amp; Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/metrics_schemas.html">Metrics Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/metrics_qiskit.html">Qiskit Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/metrics_complexity.html">Complexity Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/metrics_circuit_performance.html">Circuit Performance Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/metrics_utils.html">Metrics Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/visualization_base.html">Visualization Base Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/visualization_strategies.html">Visualization Strategies</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidocs/visualization_unified.html">Unified Visualizer</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/architecture.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="qward-architecture">
<h1>QWARD Architecture<a class="headerlink" href="#qward-architecture" title="Link to this heading">¶</a></h1>
<p>This document outlines the architecture of the QWARD library and provides usage examples.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>QWARD is designed with a clear separation between execution and analysis components. The architecture consists of four main components and follows the Strategy pattern for extensible metric calculation, enhanced with Pydantic-based schema validation for data integrity and type safety.</p>
</section>
<section id="simplified-architecture">
<h2>Simplified Architecture<a class="headerlink" href="#simplified-architecture" title="Link to this heading">¶</a></h2>
<p>This simplified view shows the core Strategy pattern implementation in QWARD, focusing on the essential components and their relationships.</p>
<pre  class="mermaid">
        classDiagram
    %% Simplified Strategy Pattern for QWARD with Schema Validation
    
    class Scanner {
        &lt;&lt;Context&gt;&gt;
        +circuit: QuantumCircuit
        +calculators: List[MetricCalculator]
        +calculate_metrics() Dict[str, DataFrame]
    }

    class MetricCalculator {
        &lt;&lt;Strategy Interface&gt;&gt;
        +get_metrics() BaseModel
    }

    class QiskitMetrics {
        &lt;&lt;Concrete Strategy&gt;&gt;
        +circuit: QuantumCircuit
        +get_metrics() QiskitMetricsSchema
        +is_ready() bool
    }

    class ComplexityMetrics {
        &lt;&lt;Concrete Strategy&gt;&gt;
        +get_metrics() ComplexityMetricsSchema
    }

    class CircuitPerformanceMetrics {
        &lt;&lt;Concrete Strategy&gt;&gt;
        +get_metrics() CircuitPerformanceSchema
    }

    class SchemaModule {
        &lt;&lt;Validation Layer&gt;&gt;
        +QiskitMetricsSchema
        +ComplexityMetricsSchema
        +CircuitPerformanceSchema
        +validate_data()
        +generate_json_schema()
        +to_flat_dict()
    }

    %% Strategy Pattern Relationships
    Scanner --&gt; MetricCalculator : uses strategies
    
    %% Strategy Interface Implementation
    MetricCalculator &lt;|.. QiskitMetrics : implements
    MetricCalculator &lt;|.. ComplexityMetrics : implements
    MetricCalculator &lt;|.. CircuitPerformanceMetrics : implements
    
    %% Schema Integration
    QiskitMetrics --&gt; SchemaModule : validates with
    ComplexityMetrics --&gt; SchemaModule : validates with
    CircuitPerformanceMetrics --&gt; SchemaModule : validates with

    %% Pattern Notes
    note for Scanner &quot;Context: Orchestrates metric calculation and returns dictionary of DataFrames&quot;
    note for MetricCalculator &quot;Strategy Interface: Common interface returning validated schema objects&quot;
    note for QiskitMetrics &quot;Returns validated Qiskit-native metrics with type safety&quot;
    note for ComplexityMetrics &quot;Returns validated complexity analysis metrics with constraints&quot;
    note for CircuitPerformanceMetrics &quot;Returns validated execution performance metrics with cross-field validation&quot;
    note for SchemaModule &quot;Pydantic-based validation with automatic type checking and JSON schema generation&quot;
    </pre><section id="key-points">
<h3>Key Points<a class="headerlink" href="#key-points" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Scanner (Context)</strong>: Maintains metric calculators and delegates calculation work</p></li>
<li><p><strong>MetricCalculator (Interface)</strong>: Defines common interface returning validated schema objects</p></li>
<li><p><strong>Concrete Strategies</strong>: Each implements different metric calculation algorithms with validation</p></li>
<li><p><strong>Schema Validation</strong>: Pydantic-based data validation ensures type safety and constraint checking</p></li>
<li><p><strong>Unified API</strong>: All metric classes use <code class="docutils literal notranslate"><span class="pre">get_metrics()</span></code> to return schema objects directly</p></li>
<li><p><strong>Scanner Integration</strong>: Scanner automatically calls <code class="docutils literal notranslate"><span class="pre">to_flat_dict()</span></code> for DataFrame conversion</p></li>
<li><p><strong>Strategy Pattern Benefits</strong>: Runtime strategy switching, extensibility, separation of concerns</p></li>
</ul>
</section>
</section>
<section id="schema-based-data-validation">
<h2>Schema-Based Data Validation<a class="headerlink" href="#schema-based-data-validation" title="Link to this heading">¶</a></h2>
<p>QWARD includes comprehensive schema-based validation using Pydantic, providing:</p>
<pre  class="mermaid">
        classDiagram
    %% Schema Validation Architecture
    
    class BaseModel {
        &lt;&lt;Pydantic Base&gt;&gt;
        +model_validate()
        +model_json_schema()
        +model_dump()
        +to_flat_dict()
    }
    
    class QiskitMetricsSchema {
        +basic_metrics: BasicMetricsSchema
        +instruction_metrics: InstructionMetricsSchema
        +scheduling_metrics: SchedulingMetricsSchema
        +to_flat_dict() Dict[str, Any]
        +from_flat_dict() QiskitMetricsSchema
    }
    
    class ComplexityMetricsSchema {
        +gate_based_metrics: GateBasedMetricsSchema
        +entanglement_metrics: EntanglementMetricsSchema
        +standardized_metrics: StandardizedMetricsSchema
        +advanced_metrics: AdvancedMetricsSchema
        +derived_metrics: DerivedMetricsSchema
        +to_flat_dict() Dict[str, Any]
        +from_flat_dict() ComplexityMetricsSchema
    }
    
    class CircuitPerformanceSchema {
        +success_metrics: SuccessMetricsSchema
        +fidelity_metrics: FidelityMetricsSchema
        +statistical_metrics: StatisticalMetricsSchema
        +validate_error_rate()
        +validate_successful_shots()
        +to_flat_dict() Dict[str, Any]
    }

    %% Inheritance
    BaseModel &lt;|-- QiskitMetricsSchema
    BaseModel &lt;|-- ComplexityMetricsSchema
    BaseModel &lt;|-- CircuitPerformanceSchema

    %% Validation Features
    note for QiskitMetricsSchema &quot;Validates circuit metrics with type checking and constraints&quot;
    note for ComplexityMetricsSchema &quot;Validates complexity metrics with range and cross-field validation&quot;
    note for CircuitPerformanceSchema &quot;Validates performance metrics with rate consistency checks and statistical constraints&quot;
    </pre><section id="schema-benefits">
<h3>Schema Benefits<a class="headerlink" href="#schema-benefits" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p><strong>Type Safety</strong>: Automatic type checking and validation</p></li>
<li><p><strong>Constraint Validation</strong>: Range checks, cross-field validation, and business rules</p></li>
<li><p><strong>IDE Support</strong>: Full autocomplete and type hints</p></li>
<li><p><strong>API Documentation</strong>: Automatic JSON schema generation</p></li>
<li><p><strong>DataFrame Compatibility</strong>: Easy conversion to/from flat dictionaries via <code class="docutils literal notranslate"><span class="pre">to_flat_dict()</span></code></p></li>
<li><p><strong>Error Prevention</strong>: Catch data inconsistencies early</p></li>
</ol>
</section>
</section>
<section id="detailed-architecture">
<h2>Detailed Architecture<a class="headerlink" href="#detailed-architecture" title="Link to this heading">¶</a></h2>
<p>The complete architecture with all implementation details:</p>
<pre  class="mermaid">
        classDiagram
    %% Complete QWARD Architecture with Schema Validation
    
    class Scanner {
        &lt;&lt;Context&gt;&gt;
        +circuit: QuantumCircuit
        +job: Union[AerJob, QiskitJob]
        +strategies: List[MetricCalculator]
        +__init__(circuit, job, strategies)
        +add_strategy(metric_calculator)
        +calculate_metrics() Dict[str, DataFrame]
        +set_circuit(circuit)
        +set_job(job)
    }

    class MetricCalculator {
        &lt;&lt;Strategy Interface&gt;&gt;
        #circuit: QuantumCircuit
        #_metric_type: MetricsType
        #_id: MetricsId
        +__init__(circuit)
        +metric_type: MetricsType
        +id: MetricsId
        +name: str
        +circuit: QuantumCircuit
        +_get_metric_type()* MetricsType
        +_get_metric_id()* MetricsId
        +is_ready()* bool
        +get_metrics()* BaseModel
        +_ensure_schemas_available()
    }

    class QiskitMetrics {
        &lt;&lt;Concrete Strategy&gt;&gt;
        +__init__(circuit)
        +_get_metric_type() MetricsType
        +_get_metric_id() MetricsId
        +is_ready() bool
        +get_metrics() QiskitMetricsSchema
        +get_basic_metrics() BasicMetricsSchema
        +get_instruction_metrics() InstructionMetricsSchema
        +get_scheduling_metrics() SchedulingMetricsSchema
    }

    class ComplexityMetrics {
        &lt;&lt;Concrete Strategy&gt;&gt;
        +__init__(circuit)
        +_get_metric_type() MetricsType
        +_get_metric_id() MetricsId
        +is_ready() bool
        +get_metrics() ComplexityMetricsSchema
        +get_gate_based_metrics() GateBasedMetricsSchema
        +get_entanglement_metrics() EntanglementMetricsSchema
        +get_standardized_metrics() StandardizedMetricsSchema
        +get_advanced_metrics() AdvancedMetricsSchema
        +get_derived_metrics() DerivedMetricsSchema
    }

    class CircuitPerformanceMetrics {
        &lt;&lt;Concrete Strategy&gt;&gt;
        #_job: Optional[JobType]
        #_jobs: List[JobType]
        #success_criteria: Callable[[str], bool]
        +__init__(circuit, job, jobs, success_criteria)
        +_get_metric_type() MetricsType
        +_get_metric_id() MetricsId
        +is_ready() bool
        +get_metrics() CircuitPerformanceSchema
        +get_success_metrics() SuccessMetricsSchema
        +get_fidelity_metrics() FidelityMetricsSchema
        +get_statistical_metrics() StatisticalMetricsSchema
        +add_job(job)
        +_default_success_criteria() Callable[[str], bool]
    }

    class MetricsType {
        &lt;&lt;enumeration&gt;&gt;
        PRE_RUNTIME
        POST_RUNTIME
    }

    class MetricsId {
        &lt;&lt;enumeration&gt;&gt;
        QISKIT
        COMPLEXITY
        CIRCUIT_PERFORMANCE
    }

    %% Strategy Pattern Relationships
    Scanner --&gt; MetricCalculator : uses strategies
    
    %% Strategy Interface Implementation
    MetricCalculator &lt;|.. QiskitMetrics : implements
    MetricCalculator &lt;|.. ComplexityMetrics : implements
    MetricCalculator &lt;|.. CircuitPerformanceMetrics : implements
    
    %% Strategy Interface Dependencies
    MetricCalculator --&gt; MetricsType : defines type
    MetricCalculator --&gt; MetricsId : defines identifier

    %% Notes about Enhanced Architecture
    note for Scanner &quot;Context: Maintains references to metric calculators and delegates work. Returns dictionary of DataFrames for analysis.&quot;
    
    note for MetricCalculator &quot;Strategy Interface: Common interface returning validated schema objects. Includes schema availability checking.&quot;
    
    note for QiskitMetrics &quot;Concrete Strategy: Qiskit-native metrics with validated schema output&quot;
    
    note for ComplexityMetrics &quot;Concrete Strategy: Comprehensive complexity analysis with validated schemas and constraint checking&quot;
    
    note for CircuitPerformanceMetrics &quot;Concrete Strategy: Circuit performance analysis with validated schema output and custom criteria&quot;
    </pre></section>
<section id="folder-structure">
<h2>Folder Structure<a class="headerlink" href="#folder-structure" title="Link to this heading">¶</a></h2>
<p>The QWARD library is organized into the following folder structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/qward/
├── __init__.py                 # Main package initialization
├── scanner.py                  # Scanner class implementation
├── runtime/
│   └── __init__.py
├── metrics/
│   ├── __init__.py
│   ├── base_metric.py          # Base MetricCalculator class
│   ├── types.py                # MetricsType and MetricsId enums
│   ├── defaults.py             # Default metric configurations
│   ├── schemas.py              # Pydantic schema definitions
│   ├── qiskit_metrics.py       # QiskitMetrics implementation
│   ├── complexity_metrics.py   # ComplexityMetrics implementation
│   └── circuit_performance.py  # CircuitPerformanceMetrics implementation
├── visualization/
│   ├── __init__.py
│   ├── base.py                 # VisualizationStrategy base class and PlotConfig
│   ├── visualizer.py           # Unified Visualizer class
│   ├── qiskit_metrics_visualizer.py      # QiskitVisualizer implementation
│   ├── complexity_metrics_visualizer.py  # ComplexityVisualizer implementation
│   └── circuit_performance_visualizer.py # CircuitPerformanceVisualizer implementation
├── utils/
│   ├── __init__.py
│   ├── flatten.py              # Utility for flattening nested lists
│   └── helpers.py              # Utility functions
└── examples/
    ├── __init__.py
    ├── utils.py                # Utilities for examples
    ├── schema_demo.py          # Schema validation demonstration
    ├── circuit_performance_demo.py # Circuit performance metrics demonstration
    ├── run_on_aer.ipynb        # Example notebook for running on Aer simulator
    ├── aer.py                  # Example Aer simulator usage
    ├── example_visualizer.py   # Comprehensive visualization examples
    ├── visualization_demo.py   # CircuitPerformanceVisualizer demo
    ├── direct_strategy_example.py # Direct strategy usage examples
    └── visualization_quickstart.py # Quick visualization example
</pre></div>
</div>
<p>This structure provides a clean organization for the code, with:</p>
<ol class="arabic simple">
<li><p><strong>Main Package</strong>: Core classes at the top level for easy imports</p></li>
<li><p><strong>Runtime Module</strong>: Handles execution of quantum circuits</p></li>
<li><p><strong>Metrics Module</strong>: Contains all metric implementations and schema definitions</p></li>
<li><p><strong>Visualization Module</strong>: Contains all visualization strategies and unified visualizer</p></li>
<li><p><strong>Utils Module</strong>: Helper functions and utilities</p></li>
<li><p><strong>Examples Module</strong>: Working code examples demonstrating library usage including schema validation and visualization</p></li>
</ol>
</section>
<section id="components">
<h2>Components<a class="headerlink" href="#components" title="Link to this heading">¶</a></h2>
<section id="scanner">
<h3>Scanner<a class="headerlink" href="#scanner" title="Link to this heading">¶</a></h3>
<p>The Scanner class is the main entry point for analyzing quantum circuits. It can be initialized with a quantum circuit, job, and an optional list of metric classes or instances. It allows users to add further metrics and calculate them, returning results as a dictionary of DataFrames for easy analysis.</p>
</section>
<section id="metriccalculator">
<h3>MetricCalculator<a class="headerlink" href="#metriccalculator" title="Link to this heading">¶</a></h3>
<p>The MetricCalculator class is an abstract base class that defines the interface for all metrics. It includes the circuit attribute, properties for metric type and ID, and abstract methods for metric calculation. All concrete implementations return validated schema objects directly through <code class="docutils literal notranslate"><span class="pre">get_metrics()</span></code>. Default metric classes can be obtained using the <code class="docutils literal notranslate"><span class="pre">get_default_strategies()</span></code> function from the <code class="docutils literal notranslate"><span class="pre">qward.metrics.defaults</span></code> module.</p>
</section>
<section id="schema-validation">
<h3>Schema Validation<a class="headerlink" href="#schema-validation" title="Link to this heading">¶</a></h3>
<p>The schema validation system provides:</p>
<ul class="simple">
<li><p><strong>Type Safety</strong>: Automatic validation of data types and constraints</p></li>
<li><p><strong>Business Rules</strong>: Cross-field validation (e.g., error_rate = 1 - success_rate)</p></li>
<li><p><strong>Range Validation</strong>: Ensures values are within expected bounds</p></li>
<li><p><strong>Documentation</strong>: Automatic JSON schema generation for API documentation</p></li>
<li><p><strong>IDE Support</strong>: Full autocomplete and type hints for better developer experience</p></li>
</ul>
</section>
<section id="qiskitmetrics">
<h3>QiskitMetrics<a class="headerlink" href="#qiskitmetrics" title="Link to this heading">¶</a></h3>
<p>The QiskitMetrics class extracts metrics directly from QuantumCircuit objects, including basic metrics (depth, width, gate counts), instruction metrics (connectivity, factors), and scheduling metrics (timing information). It returns a validated <code class="docutils literal notranslate"><span class="pre">QiskitMetricsSchema</span></code> object with type-safe access to all metric categories.</p>
</section>
<section id="complexitymetrics">
<h3>ComplexityMetrics<a class="headerlink" href="#complexitymetrics" title="Link to this heading">¶</a></h3>
<p>The ComplexityMetrics class calculates comprehensive circuit complexity metrics based on research literature, including gate-based metrics, entanglement metrics, standardized metrics, advanced metrics, and derived metrics. All metrics are validated through a <code class="docutils literal notranslate"><span class="pre">ComplexityMetricsSchema</span></code> with appropriate constraints and cross-field validation.</p>
</section>
<section id="circuitperformancemetrics">
<h3>CircuitPerformanceMetrics<a class="headerlink" href="#circuitperformancemetrics" title="Link to this heading">¶</a></h3>
<p>The CircuitPerformanceMetrics class calculates performance metrics for quantum circuits, such as success rate, fidelity, and error rate. It supports both single job and multiple job analysis with customizable success criteria. The class returns a validated <code class="docutils literal notranslate"><span class="pre">CircuitPerformanceSchema</span></code> object with validation for both individual job metrics and aggregate statistics across multiple jobs.</p>
</section>
</section>
<section id="usage-examples">
<h2>Usage Examples<a class="headerlink" href="#usage-examples" title="Link to this heading">¶</a></h2>
<section id="basic-circuit-analysis-with-schema-validation">
<h3>Basic Circuit Analysis with Schema Validation<a class="headerlink" href="#basic-circuit-analysis-with-schema-validation" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qiskit</span><span class="w"> </span><span class="kn">import</span> <span class="n">QuantumCircuit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qward</span><span class="w"> </span><span class="kn">import</span> <span class="n">Scanner</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qward.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">QiskitMetrics</span>

<span class="c1"># Create a quantum circuit</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">cx</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create a scanner with the circuit</span>
<span class="n">scanner</span> <span class="o">=</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">circuit</span><span class="o">=</span><span class="n">circuit</span><span class="p">)</span>

<span class="c1"># Add a metric</span>
<span class="n">scanner</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="n">QiskitMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">))</span>

<span class="c1"># Calculate metrics (Scanner returns dictionary of DataFrames)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">scanner</span><span class="o">.</span><span class="n">calculate_metrics</span><span class="p">()</span>

<span class="c1"># Use schema-based metrics directly</span>
<span class="n">qiskit_metrics</span> <span class="o">=</span> <span class="n">QiskitMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
<span class="n">metrics</span> <span class="o">=</span> <span class="n">qiskit_metrics</span><span class="o">.</span><span class="n">get_metrics</span><span class="p">()</span>  <span class="c1"># Returns QiskitMetricsSchema</span>

<span class="c1"># Access validated data with full type safety</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Circuit depth: </span><span class="si">{</span><span class="n">metrics</span><span class="o">.</span><span class="n">basic_metrics</span><span class="o">.</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gate count: </span><span class="si">{</span><span class="n">metrics</span><span class="o">.</span><span class="n">basic_metrics</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of qubits: </span><span class="si">{</span><span class="n">metrics</span><span class="o">.</span><span class="n">basic_metrics</span><span class="o">.</span><span class="n">num_qubits</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="comprehensive-analysis-with-multiple-metrics">
<h3>Comprehensive Analysis with Multiple Metrics<a class="headerlink" href="#comprehensive-analysis-with-multiple-metrics" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qward</span><span class="w"> </span><span class="kn">import</span> <span class="n">Scanner</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qward.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">QiskitMetrics</span><span class="p">,</span> <span class="n">ComplexityMetrics</span><span class="p">,</span> <span class="n">CircuitPerformanceMetrics</span>

<span class="c1"># Create a scanner with multiple metrics</span>
<span class="n">scanner</span> <span class="o">=</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">circuit</span><span class="o">=</span><span class="n">circuit</span><span class="p">)</span>
<span class="n">scanner</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="n">QiskitMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">))</span>
<span class="n">scanner</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="n">ComplexityMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">))</span>

<span class="c1"># For circuit performance, you need job execution results</span>
<span class="k">if</span> <span class="n">job</span><span class="p">:</span>  <span class="c1"># Assuming you have a job from circuit execution</span>
    <span class="n">scanner</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="n">CircuitPerformanceMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">,</span> <span class="n">job</span><span class="o">=</span><span class="n">job</span><span class="p">))</span>

<span class="c1"># Calculate all metrics (returns dictionary of DataFrames)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">scanner</span><span class="o">.</span><span class="n">calculate_metrics</span><span class="p">()</span>

<span class="c1"># Access schema-based metrics for detailed analysis</span>
<span class="n">complexity_metrics</span> <span class="o">=</span> <span class="n">ComplexityMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
<span class="n">complexity_schema</span> <span class="o">=</span> <span class="n">complexity_metrics</span><span class="o">.</span><span class="n">get_metrics</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gate Count: </span><span class="si">{</span><span class="n">complexity_schema</span><span class="o">.</span><span class="n">gate_based_metrics</span><span class="o">.</span><span class="n">gate_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gate Density: </span><span class="si">{</span><span class="n">complexity_schema</span><span class="o">.</span><span class="n">standardized_metrics</span><span class="o">.</span><span class="n">gate_density</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parallelism Efficiency: </span><span class="si">{</span><span class="n">complexity_schema</span><span class="o">.</span><span class="n">advanced_metrics</span><span class="o">.</span><span class="n">parallelism_efficiency</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="circuit-performance-analysis-with-custom-criteria">
<h3>Circuit Performance Analysis with Custom Criteria<a class="headerlink" href="#circuit-performance-analysis-with-custom-criteria" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qward.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">CircuitPerformanceMetrics</span>

<span class="c1"># Define custom success criteria</span>
<span class="k">def</span><span class="w"> </span><span class="nf">bell_state_success</span><span class="p">(</span><span class="n">result</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="n">clean_result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clean_result</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;0000&quot;</span><span class="p">,</span> <span class="s2">&quot;1111&quot;</span><span class="p">]</span>  <span class="c1"># |00⟩ or |11⟩ states</span>

<span class="c1"># Create circuit performance metric with custom criteria</span>
<span class="n">circuit_performance</span> <span class="o">=</span> <span class="n">CircuitPerformanceMetrics</span><span class="p">(</span>
    <span class="n">circuit</span><span class="o">=</span><span class="n">circuit</span><span class="p">,</span> 
    <span class="n">job</span><span class="o">=</span><span class="n">job</span><span class="p">,</span> 
    <span class="n">success_criteria</span><span class="o">=</span><span class="n">bell_state_success</span>
<span class="p">)</span>

<span class="c1"># Get validated schema with automatic constraint checking</span>
<span class="n">metrics</span> <span class="o">=</span> <span class="n">circuit_performance</span><span class="o">.</span><span class="n">get_metrics</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Success Rate: </span><span class="si">{</span><span class="n">metrics</span><span class="o">.</span><span class="n">success_metrics</span><span class="o">.</span><span class="n">success_rate</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fidelity: </span><span class="si">{</span><span class="n">metrics</span><span class="o">.</span><span class="n">fidelity_metrics</span><span class="o">.</span><span class="n">fidelity</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error Rate: </span><span class="si">{</span><span class="n">metrics</span><span class="o">.</span><span class="n">success_metrics</span><span class="o">.</span><span class="n">error_rate</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Automatically validated</span>
</pre></div>
</div>
</section>
<section id="schema-validation-and-json-generation">
<h3>Schema Validation and JSON Generation<a class="headerlink" href="#schema-validation-and-json-generation" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qward.metrics.schemas</span><span class="w"> </span><span class="kn">import</span> <span class="n">ComplexityMetricsSchema</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="c1"># Generate JSON schema for API documentation</span>
<span class="n">complexity_metrics</span> <span class="o">=</span> <span class="n">ComplexityMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
<span class="n">schema_obj</span> <span class="o">=</span> <span class="n">complexity_metrics</span><span class="o">.</span><span class="n">get_metrics</span><span class="p">()</span>

<span class="c1"># Get JSON schema for documentation</span>
<span class="n">json_schema</span> <span class="o">=</span> <span class="n">ComplexityMetricsSchema</span><span class="o">.</span><span class="n">model_json_schema</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="c1"># Convert to flat dictionary for DataFrame compatibility</span>
<span class="n">flat_dict</span> <span class="o">=</span> <span class="n">schema_obj</span><span class="o">.</span><span class="n">to_flat_dict</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flattened metrics: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">flat_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Validate data integrity</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># This will raise ValidationError if data is invalid</span>
    <span class="n">validated_schema</span> <span class="o">=</span> <span class="n">ComplexityMetricsSchema</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">schema_obj</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Data validation passed&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Validation error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="using-custom-metrics-with-schema-support">
<h3>Using Custom Metrics with Schema Support<a class="headerlink" href="#using-custom-metrics-with-schema-support" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qward.metrics.base_metric</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetricCalculator</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qward.metrics.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetricsType</span><span class="p">,</span> <span class="n">MetricsId</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qiskit</span><span class="w"> </span><span class="kn">import</span> <span class="n">QuantumCircuit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyCustomMetricsSchema</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">custom_complexity</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">circuit_signature</span><span class="p">:</span> <span class="nb">str</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyCustomMetric</span><span class="p">(</span><span class="n">MetricCalculator</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">circuit</span><span class="p">:</span> <span class="n">QuantumCircuit</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_metric_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MetricsType</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">MetricsType</span><span class="o">.</span><span class="n">PRE_RUNTIME</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_metric_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MetricsId</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">MetricsId</span><span class="o">.</span><span class="n">QISKIT</span>  <span class="c1"># Or define a new ID</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">circuit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">get_metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MyCustomMetricsSchema</span><span class="p">:</span>
        <span class="c1"># Custom metric calculation</span>
        <span class="n">custom_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">circuit</span><span class="o">.</span><span class="n">depth</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">circuit</span><span class="o">.</span><span class="n">num_qubits</span>
        <span class="k">return</span> <span class="n">MyCustomMetricsSchema</span><span class="p">(</span>
            <span class="n">custom_complexity</span><span class="o">=</span><span class="n">custom_value</span><span class="p">,</span>
            <span class="n">circuit_signature</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">circuit</span><span class="o">.</span><span class="n">num_qubits</span><span class="si">}</span><span class="s2">q_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">circuit</span><span class="o">.</span><span class="n">depth</span><span class="p">()</span><span class="si">}</span><span class="s2">d&quot;</span>
        <span class="p">)</span>

<span class="c1"># Usage</span>
<span class="n">scanner</span> <span class="o">=</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">circuit</span><span class="o">=</span><span class="n">circuit</span><span class="p">)</span>
<span class="n">scanner</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="n">MyCustomMetric</span><span class="p">(</span><span class="n">circuit</span><span class="p">))</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">scanner</span><span class="o">.</span><span class="n">calculate_metrics</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><strong>Circuit Analysis</strong></p>
<ul class="simple">
<li><p>Use the Scanner class for all circuit analysis</p></li>
<li><p>Add metrics before calculating results</p></li>
<li><p>Consider using multiple metrics for comprehensive analysis</p></li>
<li><p>All metrics return validated schema objects by default</p></li>
</ul>
</li>
<li><p><strong>Schema Usage</strong></p>
<ul class="simple">
<li><p>All metric classes return schema objects directly via <code class="docutils literal notranslate"><span class="pre">get_metrics()</span></code></p></li>
<li><p>Take advantage of IDE autocomplete with schema objects</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">to_flat_dict()</span></code> when you need dictionary format for DataFrames</p></li>
<li><p>Leverage JSON schema generation for API documentation</p></li>
</ul>
</li>
<li><p><strong>Execution</strong></p>
<ul class="simple">
<li><p>Handle job and result errors appropriately</p></li>
<li><p>Use appropriate Qiskit runtime services for backend execution</p></li>
<li><p>Validate success criteria for CircuitPerformanceMetrics metrics</p></li>
</ul>
</li>
<li><p><strong>Data Management</strong></p>
<ul class="simple">
<li><p>Use consistent naming conventions for analysis results</p></li>
<li><p>Schema validation ensures data integrity automatically</p></li>
<li><p>Scanner handles schema-to-DataFrame conversion seamlessly</p></li>
</ul>
</li>
<li><p><strong>Custom Metrics</strong></p>
<ul class="simple">
<li><p>Inherit from the MetricCalculator base class</p></li>
<li><p>Implement the required abstract methods</p></li>
<li><p>Return validated schema objects from <code class="docutils literal notranslate"><span class="pre">get_metrics()</span></code></p></li>
<li><p>Document metric calculation methodology</p></li>
<li><p>Consider adding custom Pydantic schemas for validation</p></li>
</ul>
</li>
<li><p><strong>Performance</strong></p>
<ul class="simple">
<li><p>Schema validation adds minimal overhead but provides significant benefits</p></li>
<li><p>Scanner automatically handles <code class="docutils literal notranslate"><span class="pre">to_flat_dict()</span></code> conversion for DataFrames</p></li>
<li><p>All validation happens at metric calculation time</p></li>
</ul>
</li>
</ol>
</section>
<section id="visualization-system">
<h2>Visualization System<a class="headerlink" href="#visualization-system" title="Link to this heading">¶</a></h2>
<p>QWARD includes a comprehensive visualization system for analyzing and presenting quantum circuit metrics. The visualization module follows a structured approach that integrates seamlessly with the metric calculation system and provides a modern, type-safe API.</p>
<section id="new-api-features-v0-9-0">
<h3>New API Features (v0.9.0)<a class="headerlink" href="#new-api-features-v0-9-0" title="Link to this heading">¶</a></h3>
<section id="type-safe-constants-system">
<h4>🎯 <strong>Type-Safe Constants System</strong><a class="headerlink" href="#type-safe-constants-system" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Metrics</span></code></strong> constants: <code class="docutils literal notranslate"><span class="pre">Metrics.QISKIT</span></code>, <code class="docutils literal notranslate"><span class="pre">Metrics.COMPLEXITY</span></code>, <code class="docutils literal notranslate"><span class="pre">Metrics.CIRCUIT_PERFORMANCE</span></code></p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Plots</span></code></strong> constants: <code class="docutils literal notranslate"><span class="pre">Plots.QISKIT.CIRCUIT_STRUCTURE</span></code>, <code class="docutils literal notranslate"><span class="pre">Plots.COMPLEXITY.COMPLEXITY_RADAR</span></code>, etc.</p></li>
<li><p><strong>IDE Autocompletion</strong>: Full IntelliSense support for all plot names</p></li>
<li><p><strong>Error Prevention</strong>: Compile-time detection of typos in metric and plot names</p></li>
</ul>
</section>
<section id="rich-plot-metadata-system">
<h4>🔍 <strong>Rich Plot Metadata System</strong><a class="headerlink" href="#rich-plot-metadata-system" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Plot Descriptions</strong>: Detailed information about what each plot shows</p></li>
<li><p><strong>Plot Types</strong>: Categorized as bar charts, radar charts, line plots, etc.</p></li>
<li><p><strong>Dependencies</strong>: Information about required data columns</p></li>
<li><p><strong>Categories</strong>: Organized by analysis type (structure, performance, complexity)</p></li>
</ul>
</section>
<section id="granular-plot-control">
<h4>⚡ <strong>Granular Plot Control</strong><a class="headerlink" href="#granular-plot-control" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>Single Plot Generation</strong>: <code class="docutils literal notranslate"><span class="pre">generate_plot(metric,</span> <span class="pre">plot_name)</span></code></p></li>
<li><p><strong>Selected Plots</strong>: <code class="docutils literal notranslate"><span class="pre">generate_plots({metric:</span> <span class="pre">[plot1,</span> <span class="pre">plot2]})</span></code></p></li>
<li><p><strong>All Plots</strong>: <code class="docutils literal notranslate"><span class="pre">generate_plots({metric:</span> <span class="pre">None})</span></code></p></li>
<li><p><strong>Memory Efficient</strong>: Default <code class="docutils literal notranslate"><span class="pre">save=False,</span> <span class="pre">show=False</span></code> for batch processing</p></li>
</ul>
</section>
</section>
<section id="architecture-overview">
<h3>Architecture Overview<a class="headerlink" href="#architecture-overview" title="Link to this heading">¶</a></h3>
<p>The visualization system is built on the following key components:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">PlotConfig</span></code></strong>: A dataclass holding all plot appearance and saving configurations.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">VisualizationStrategy</span></code></strong>: An abstract base class for all visualizers with plot registry system. It handles common setup (output directory, styling via <code class="docutils literal notranslate"><span class="pre">PlotConfig</span></code>) and provides utility methods like <code class="docutils literal notranslate"><span class="pre">save_plot</span></code>/<code class="docutils literal notranslate"><span class="pre">show_plot</span></code>, data validation, and plot creation helpers. Subclasses must implement plot registry and new API methods.</p></li>
<li><p><strong>Individual Visualizers</strong>: Three concrete visualizers inheriting from <code class="docutils literal notranslate"><span class="pre">VisualizationStrategy</span></code>:</p>
<ul>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">QiskitVisualizer</span></code></strong>: Visualizes circuit structure and instruction metrics (4 plots)</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ComplexityVisualizer</span></code></strong>: Visualizes complexity analysis with radar charts and efficiency metrics (3 plots)</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CircuitPerformanceVisualizer</span></code></strong>: Visualizes performance metrics with success rates, fidelity, and shot distributions (4 plots)</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Visualizer</span></code></strong>: A unified entry point that automatically detects available metrics and provides type-safe visualization capabilities.</p></li>
</ul>
<pre  class="mermaid">
        classDiagram
    class VisualizationStrategy {
        &lt;&lt;abstract&gt;&gt;
        +output_dir: str
        +config: PlotConfig
        +PLOT_REGISTRY: Dict[str, PlotMetadata]
        +save_plot(fig, filename)
        +show_plot(fig)
        +get_available_plots()* List[str]
        +get_plot_metadata(plot_name)* PlotMetadata
        +generate_plot(plot_name, save, show)* Figure
        +generate_plots(plot_names, save, show)* List[Figure]
        +generate_all_plots(save, show) List[Figure]
        +create_dashboard(save, show)*
        +_validate_required_columns()
        +_extract_metrics_from_columns()
        +_create_bar_plot_with_labels()
        +_setup_plot_axes()
        +_finalize_plot()
    }
    
    class PlotConfig {
        +figsize: Tuple[int, int]
        +dpi: int
        +style: str
        +color_palette: List[str]
        +save_format: str
        +grid: bool
        +alpha: float
        +__post_init__()
    }
    
    class PlotMetadata {
        +name: str
        +method_name: str
        +description: str
        +plot_type: PlotType
        +filename: str
        +dependencies: List[str]
        +category: str
    }
    
    class QiskitVisualizer {
        +PLOT_REGISTRY: Dict[str, PlotMetadata]
        +generate_plot(plot_name, save, show)
        +get_available_plots() List[str]
        +get_plot_metadata(plot_name) PlotMetadata
        +plot_circuit_structure()
        +plot_gate_distribution()
        +plot_instruction_metrics()
        +plot_circuit_summary()
        +create_dashboard()
    }
    
    class ComplexityVisualizer {
        +PLOT_REGISTRY: Dict[str, PlotMetadata]
        +generate_plot(plot_name, save, show)
        +get_available_plots() List[str]
        +get_plot_metadata(plot_name) PlotMetadata
        +plot_gate_based_metrics()
        +plot_complexity_radar()
        +plot_efficiency_metrics()
        +create_dashboard()
    }
    
    class CircuitPerformanceVisualizer {
        +PLOT_REGISTRY: Dict[str, PlotMetadata]
        +generate_plot(plot_name, save, show)
        +get_available_plots() List[str]
        +get_plot_metadata(plot_name) PlotMetadata
        +plot_success_error_comparison()
        +plot_fidelity_comparison()
        +plot_shot_distribution()
        +plot_aggregate_summary()
        +create_dashboard()
    }
    
    class Visualizer {
        +scanner: Optional[Scanner]
        +metrics_data: Dict[str, DataFrame]
        +registered_strategies: Dict[str, Type[VisualizationStrategy]]
        +get_available_plots() Dict[str, List[str]]
        +get_plot_metadata(metric, plot_name) PlotMetadata
        +generate_plot(metric, plot_name, save, show) Figure
        +generate_plots(selections, save, show) Dict[str, List[Figure]]
        +create_dashboard(save, show) Dict[str, Figure]
        +register_strategy()
        +get_available_metrics()
        +get_metric_summary()
        +print_available_metrics()
    }

    VisualizationStrategy &lt;|-- QiskitVisualizer
    VisualizationStrategy &lt;|-- ComplexityVisualizer
    VisualizationStrategy &lt;|-- CircuitPerformanceVisualizer
    VisualizationStrategy --&gt; PlotConfig : uses
    VisualizationStrategy --&gt; PlotMetadata : defines
    Visualizer --&gt; VisualizationStrategy : manages
    Visualizer --&gt; Scanner : optional integration
    
    note for VisualizationStrategy &quot;Abstract base class with plot registry and metadata system&quot;
    note for QiskitVisualizer &quot;4 plots: circuit_structure, gate_distribution, instruction_metrics, circuit_summary&quot;
    note for ComplexityVisualizer &quot;3 plots: gate_based_metrics, complexity_radar, efficiency_metrics&quot;
    note for CircuitPerformanceVisualizer &quot;4 plots: success_error_comparison, fidelity_comparison, shot_distribution, aggregate_summary&quot;
    note for Visualizer &quot;Unified entry point with type-safe constants and granular control&quot;
    </pre></section>
<section id="key-components">
<h3>Key Components<a class="headerlink" href="#key-components" title="Link to this heading">¶</a></h3>
<section id="visualizationstrategy">
<h4><code class="docutils literal notranslate"><span class="pre">VisualizationStrategy</span></code><a class="headerlink" href="#visualizationstrategy" title="Link to this heading">¶</a></h4>
<p>Abstract base class providing core visualization functionality with new API:</p>
<ul class="simple">
<li><p><strong>Output Management</strong>: Handles output directory creation and file path management</p></li>
<li><p><strong>Plot Configuration</strong>: Integrates with <code class="docutils literal notranslate"><span class="pre">PlotConfig</span></code> for consistent styling</p></li>
<li><p><strong>Plot Registry</strong>: Each visualizer defines a <code class="docutils literal notranslate"><span class="pre">PLOT_REGISTRY</span></code> with rich metadata</p></li>
<li><p><strong>New API Methods</strong>: <code class="docutils literal notranslate"><span class="pre">get_available_plots()</span></code>, <code class="docutils literal notranslate"><span class="pre">get_plot_metadata()</span></code>, <code class="docutils literal notranslate"><span class="pre">generate_plot()</span></code>, <code class="docutils literal notranslate"><span class="pre">generate_plots()</span></code>, <code class="docutils literal notranslate"><span class="pre">generate_all_plots()</span></code></p></li>
<li><p><strong>Common Utilities</strong>: Provides reusable methods for data validation, plot creation, and formatting</p></li>
<li><p><strong>Save/Show Operations</strong>: Provides <code class="docutils literal notranslate"><span class="pre">save_plot()</span></code> and <code class="docutils literal notranslate"><span class="pre">show_plot()</span></code> methods</p></li>
<li><p><strong>Abstract Interface</strong>: Defines <code class="docutils literal notranslate"><span class="pre">create_dashboard()</span></code> method that subclasses must implement</p></li>
</ul>
</section>
<section id="individual-visualizers">
<h4>Individual Visualizers<a class="headerlink" href="#individual-visualizers" title="Link to this heading">¶</a></h4>
<p>Three specialized visualizers for different metric types with plot registries:</p>
<ol class="arabic simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">QiskitVisualizer</span></code></strong>: Handles circuit structure and instruction analysis (4 plots)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">circuit_structure</span></code>: Basic circuit metrics (depth, width, size, qubits)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gate_distribution</span></code>: Gate type analysis and instruction distribution</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">instruction_metrics</span></code>: Instruction-related metrics and connectivity analysis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">circuit_summary</span></code>: Derived metrics and summary information</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ComplexityVisualizer</span></code></strong>: Handles complexity analysis visualization (3 plots)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gate_based_metrics</span></code>: Gate counts, depth, T-gates, and CNOT gates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">complexity_radar</span></code>: Radar chart for normalized complexity indicators</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">efficiency_metrics</span></code>: Parallelism efficiency and circuit efficiency analysis</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CircuitPerformanceVisualizer</span></code></strong>: Handles execution performance visualization (4 plots)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">success_error_comparison</span></code>: Success vs error rate comparisons across jobs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fidelity_comparison</span></code>: Fidelity analysis across different executions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shot_distribution</span></code>: Distribution of successful vs failed shots</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate_summary</span></code>: Statistical summary across multiple jobs</p></li>
</ul>
</li>
</ol>
</section>
<section id="visualizer-unified-entry-point">
<h4><code class="docutils literal notranslate"><span class="pre">Visualizer</span></code> (Unified Entry Point)<a class="headerlink" href="#visualizer-unified-entry-point" title="Link to this heading">¶</a></h4>
<p>Main class that provides a single interface for all visualizations with new API:</p>
<ul class="simple">
<li><p><strong>Type-Safe Constants</strong>: Works with <code class="docutils literal notranslate"><span class="pre">Metrics</span></code> and <code class="docutils literal notranslate"><span class="pre">Plots</span></code> constants for error prevention</p></li>
<li><p><strong>Auto-Detection</strong>: Automatically detects available metrics and registers appropriate visualizers</p></li>
<li><p><strong>Granular Control</strong>: Generate single plots, selected plots, or all plots with precise control</p></li>
<li><p><strong>Rich Metadata</strong>: Access detailed information about each plot’s purpose and requirements</p></li>
<li><p><strong>Flexible Input</strong>: Works with Scanner instances or custom metrics data</p></li>
<li><p><strong>Memory Efficient</strong>: Default <code class="docutils literal notranslate"><span class="pre">save=False,</span> <span class="pre">show=False</span></code> for batch processing</p></li>
</ul>
</section>
<section id="plotconfig">
<h4><code class="docutils literal notranslate"><span class="pre">PlotConfig</span></code><a class="headerlink" href="#plotconfig" title="Link to this heading">¶</a></h4>
<p>Configuration dataclass for plot appearance and behavior:</p>
<ul class="simple">
<li><p><strong>Appearance</strong>: Figure size, DPI, color palettes, transparency</p></li>
<li><p><strong>Styling</strong>: Plot styles (default, quantum, minimal)</p></li>
<li><p><strong>Output</strong>: Save format (PNG, SVG), grid settings</p></li>
<li><p><strong>Extensible</strong>: Easy to customize for different visualization needs</p></li>
</ul>
</section>
</section>
<section id="integration-with-scanner-new-api">
<h3>Integration with Scanner (New API)<a class="headerlink" href="#integration-with-scanner-new-api" title="Link to this heading">¶</a></h3>
<p>The visualization system seamlessly integrates with the Scanner output using the new type-safe API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qward.visualization.constants</span><span class="w"> </span><span class="kn">import</span> <span class="n">Metrics</span><span class="p">,</span> <span class="n">Plots</span>

<span class="c1"># Calculate metrics</span>
<span class="n">scanner</span> <span class="o">=</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">circuit</span><span class="o">=</span><span class="n">circuit</span><span class="p">)</span>
<span class="n">scanner</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="n">QiskitMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">))</span>
<span class="n">scanner</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="n">ComplexityMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="p">))</span>
<span class="n">scanner</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="n">CircuitPerformanceMetrics</span><span class="p">(</span><span class="n">circuit</span><span class="o">=</span><span class="n">circuit</span><span class="p">,</span> <span class="n">job</span><span class="o">=</span><span class="n">job</span><span class="p">))</span>
<span class="n">metrics_dict</span> <span class="o">=</span> <span class="n">scanner</span><span class="o">.</span><span class="n">calculate_metrics</span><span class="p">()</span>

<span class="c1"># Option 1: Use unified Visualizer with type-safe constants (recommended)</span>
<span class="n">visualizer</span> <span class="o">=</span> <span class="n">Visualizer</span><span class="p">(</span><span class="n">scanner</span><span class="o">=</span><span class="n">scanner</span><span class="p">)</span>

<span class="c1"># NEW API: Generate specific plots with type-safe constants</span>
<span class="n">selected_plots</span> <span class="o">=</span> <span class="n">visualizer</span><span class="o">.</span><span class="n">generate_plots</span><span class="p">({</span>
    <span class="n">Metrics</span><span class="o">.</span><span class="n">QISKIT</span><span class="p">:</span> <span class="p">[</span>
        <span class="n">Plots</span><span class="o">.</span><span class="n">QISKIT</span><span class="o">.</span><span class="n">CIRCUIT_STRUCTURE</span><span class="p">,</span>
        <span class="n">Plots</span><span class="o">.</span><span class="n">QISKIT</span><span class="o">.</span><span class="n">GATE_DISTRIBUTION</span>
    <span class="p">],</span>
    <span class="n">Metrics</span><span class="o">.</span><span class="n">COMPLEXITY</span><span class="p">:</span> <span class="p">[</span>
        <span class="n">Plots</span><span class="o">.</span><span class="n">COMPLEXITY</span><span class="o">.</span><span class="n">COMPLEXITY_RADAR</span>
    <span class="p">]</span>
<span class="p">},</span> <span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># NEW API: Generate all plots for specific metrics</span>
<span class="n">all_qiskit_plots</span> <span class="o">=</span> <span class="n">visualizer</span><span class="o">.</span><span class="n">generate_plots</span><span class="p">({</span>
    <span class="n">Metrics</span><span class="o">.</span><span class="n">QISKIT</span><span class="p">:</span> <span class="kc">None</span>  <span class="c1"># None = all plots</span>
<span class="p">},</span> <span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># NEW API: Generate single plot</span>
<span class="n">single_plot</span> <span class="o">=</span> <span class="n">visualizer</span><span class="o">.</span><span class="n">generate_plot</span><span class="p">(</span>
    <span class="n">Metrics</span><span class="o">.</span><span class="n">CIRCUIT_PERFORMANCE</span><span class="p">,</span> 
    <span class="n">Plots</span><span class="o">.</span><span class="n">CIRCUIT_PERFORMANCE</span><span class="o">.</span><span class="n">SUCCESS_ERROR_COMPARISON</span><span class="p">,</span> 
    <span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
    <span class="n">show</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="c1"># NEW API: Explore available plots and metadata</span>
<span class="n">available_plots</span> <span class="o">=</span> <span class="n">visualizer</span><span class="o">.</span><span class="n">get_available_plots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">metric_name</span><span class="p">,</span> <span class="n">plot_names</span> <span class="ow">in</span> <span class="n">available_plots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">metric_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">plot_names</span><span class="p">)</span><span class="si">}</span><span class="s2"> plots):&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">plot_name</span> <span class="ow">in</span> <span class="n">plot_names</span><span class="p">:</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">visualizer</span><span class="o">.</span><span class="n">get_plot_metadata</span><span class="p">(</span><span class="n">metric_name</span><span class="p">,</span> <span class="n">plot_name</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">plot_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">metadata</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">metadata</span><span class="o">.</span><span class="n">plot_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># Create comprehensive dashboards (unchanged)</span>
<span class="n">dashboards</span> <span class="o">=</span> <span class="n">visualizer</span><span class="o">.</span><span class="n">create_dashboard</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Option 2: Use individual visualizers directly with new API</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qward.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">QiskitVisualizer</span><span class="p">,</span> <span class="n">ComplexityVisualizer</span><span class="p">,</span> <span class="n">CircuitPerformanceVisualizer</span>

<span class="n">qiskit_viz</span> <span class="o">=</span> <span class="n">QiskitVisualizer</span><span class="p">({</span><span class="n">Metrics</span><span class="o">.</span><span class="n">QISKIT</span><span class="p">:</span> <span class="n">metrics_dict</span><span class="p">[</span><span class="n">Metrics</span><span class="o">.</span><span class="n">QISKIT</span><span class="p">]})</span>

<span class="c1"># NEW API: Generate specific plots</span>
<span class="n">qiskit_viz</span><span class="o">.</span><span class="n">generate_plot</span><span class="p">(</span><span class="n">Plots</span><span class="o">.</span><span class="n">QISKIT</span><span class="o">.</span><span class="n">CIRCUIT_STRUCTURE</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># NEW API: Generate selected plots</span>
<span class="n">selected_figures</span> <span class="o">=</span> <span class="n">qiskit_viz</span><span class="o">.</span><span class="n">generate_plots</span><span class="p">([</span>
    <span class="n">Plots</span><span class="o">.</span><span class="n">QISKIT</span><span class="o">.</span><span class="n">CIRCUIT_STRUCTURE</span><span class="p">,</span>
    <span class="n">Plots</span><span class="o">.</span><span class="n">QISKIT</span><span class="o">.</span><span class="n">GATE_DISTRIBUTION</span>
<span class="p">],</span> <span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># NEW API: Generate all plots</span>
<span class="n">all_figures</span> <span class="o">=</span> <span class="n">qiskit_viz</span><span class="o">.</span><span class="n">generate_all_plots</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># NEW API: Get plot metadata</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="n">qiskit_viz</span><span class="o">.</span><span class="n">get_plot_metadata</span><span class="p">(</span><span class="n">Plots</span><span class="o">.</span><span class="n">QISKIT</span><span class="o">.</span><span class="n">CIRCUIT_STRUCTURE</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Plot description: </span><span class="si">{</span><span class="n">metadata</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Plot type: </span><span class="si">{</span><span class="n">metadata</span><span class="o">.</span><span class="n">plot_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dependencies: </span><span class="si">{</span><span class="n">metadata</span><span class="o">.</span><span class="n">dependencies</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="extensibility">
<h3>Extensibility<a class="headerlink" href="#extensibility" title="Link to this heading">¶</a></h3>
<p>The visualization system is designed for easy extension with the new plot registry system:</p>
<ol class="arabic simple">
<li><p><strong>Custom Visualizers</strong>: Create new visualizers by inheriting from <code class="docutils literal notranslate"><span class="pre">VisualizationStrategy</span></code> and defining a <code class="docutils literal notranslate"><span class="pre">PLOT_REGISTRY</span></code></p></li>
<li><p><strong>Plot Metadata</strong>: Rich metadata system provides detailed information about each plot</p></li>
<li><p><strong>Type Safety</strong>: Constants system prevents errors and provides IDE autocompletion</p></li>
<li><p><strong>Custom Plot Types</strong>: Add new visualization methods with proper metadata registration</p></li>
<li><p><strong>Custom Styling</strong>: Define new <code class="docutils literal notranslate"><span class="pre">PlotConfig</span></code> presets for different use cases</p></li>
<li><p><strong>Registration System</strong>: Register custom visualizers with the unified <code class="docutils literal notranslate"><span class="pre">Visualizer</span></code> class</p></li>
</ol>
</section>
<section id="benefits-of-new-api">
<h3>Benefits of New API<a class="headerlink" href="#benefits-of-new-api" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p><strong>Type Safety</strong>: Constants prevent typos and provide IDE autocompletion</p></li>
<li><p><strong>Rich Metadata</strong>: Detailed information about each plot’s purpose and requirements</p></li>
<li><p><strong>Granular Control</strong>: Generate exactly the plots you need</p></li>
<li><p><strong>Memory Efficient</strong>: Default parameters optimized for batch processing</p></li>
<li><p><strong>Error Prevention</strong>: Validation of metric and plot combinations</p></li>
<li><p><strong>Discoverability</strong>: Easy exploration of available plots and their capabilities</p></li>
<li><p><strong>Future-Proof</strong>: Extensible design for adding new visualization types</p></li>
</ol>
<p>For detailed usage and examples, see the <a class="reference internal" href="visualization_guide.html"><span class="std std-doc">Visualization Guide</span></a> and explore the comprehensive examples in <a class="reference internal" href="#../qward/examples/"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">qward/examples/</span></code></span></a>.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="visualization_guide.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">QWARD Visualization Guide</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="project_overview.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">QWARD Project Overview</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">QWARD Architecture</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#simplified-architecture">Simplified Architecture</a><ul>
<li><a class="reference internal" href="#key-points">Key Points</a></li>
</ul>
</li>
<li><a class="reference internal" href="#schema-based-data-validation">Schema-Based Data Validation</a><ul>
<li><a class="reference internal" href="#schema-benefits">Schema Benefits</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detailed-architecture">Detailed Architecture</a></li>
<li><a class="reference internal" href="#folder-structure">Folder Structure</a></li>
<li><a class="reference internal" href="#components">Components</a><ul>
<li><a class="reference internal" href="#scanner">Scanner</a></li>
<li><a class="reference internal" href="#metriccalculator">MetricCalculator</a></li>
<li><a class="reference internal" href="#schema-validation">Schema Validation</a></li>
<li><a class="reference internal" href="#qiskitmetrics">QiskitMetrics</a></li>
<li><a class="reference internal" href="#complexitymetrics">ComplexityMetrics</a></li>
<li><a class="reference internal" href="#circuitperformancemetrics">CircuitPerformanceMetrics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage-examples">Usage Examples</a><ul>
<li><a class="reference internal" href="#basic-circuit-analysis-with-schema-validation">Basic Circuit Analysis with Schema Validation</a></li>
<li><a class="reference internal" href="#comprehensive-analysis-with-multiple-metrics">Comprehensive Analysis with Multiple Metrics</a></li>
<li><a class="reference internal" href="#circuit-performance-analysis-with-custom-criteria">Circuit Performance Analysis with Custom Criteria</a></li>
<li><a class="reference internal" href="#schema-validation-and-json-generation">Schema Validation and JSON Generation</a></li>
<li><a class="reference internal" href="#using-custom-metrics-with-schema-support">Using Custom Metrics with Schema Support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#best-practices">Best Practices</a></li>
<li><a class="reference internal" href="#visualization-system">Visualization System</a><ul>
<li><a class="reference internal" href="#new-api-features-v0-9-0">New API Features (v0.9.0)</a><ul>
<li><a class="reference internal" href="#type-safe-constants-system">🎯 <strong>Type-Safe Constants System</strong></a></li>
<li><a class="reference internal" href="#rich-plot-metadata-system">🔍 <strong>Rich Plot Metadata System</strong></a></li>
<li><a class="reference internal" href="#granular-plot-control">⚡ <strong>Granular Plot Control</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#architecture-overview">Architecture Overview</a></li>
<li><a class="reference internal" href="#key-components">Key Components</a><ul>
<li><a class="reference internal" href="#visualizationstrategy"><code class="docutils literal notranslate"><span class="pre">VisualizationStrategy</span></code></a></li>
<li><a class="reference internal" href="#individual-visualizers">Individual Visualizers</a></li>
<li><a class="reference internal" href="#visualizer-unified-entry-point"><code class="docutils literal notranslate"><span class="pre">Visualizer</span></code> (Unified Entry Point)</a></li>
<li><a class="reference internal" href="#plotconfig"><code class="docutils literal notranslate"><span class="pre">PlotConfig</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration-with-scanner-new-api">Integration with Scanner (New API)</a></li>
<li><a class="reference internal" href="#extensibility">Extensibility</a></li>
<li><a class="reference internal" href="#benefits-of-new-api">Benefits of New API</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.6.0/dist/mermaid.min.js"></script>
    <script src="_static/mermaid-init.js?v=05525452"></script>
    </body>
</html>